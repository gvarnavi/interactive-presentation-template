(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[4977],{67319:(e,t,s)=>{"use strict";s.r(t),s.d(t,{assets:()=>d,contentTitle:()=>i,default:()=>h,frontMatter:()=>u,metadata:()=>c,toc:()=>j});var r=s(85893),a=s(11151),n=s(57126),l=s(74866),o=s(85162);const u={id:"phase-contrast-demo",sidebar_position:3,title:"py4DSTEM Phase Contrast",hide_table_of_contents:!0,hide_title:!0},i="py4DSTEM phase contrast",c={id:"phase-contrast-demo",title:"py4DSTEM Phase Contrast",description:"<JupyterCell",source:"@site/slides/phase-contrast-demo.mdx",sourceDirName:".",slug:"/phase-contrast-demo",permalink:"/interactive-presentation-template/slides/phase-contrast-demo",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{id:"phase-contrast-demo",sidebar_position:3,title:"py4DSTEM Phase Contrast",hide_table_of_contents:!0,hide_title:!0},sidebar:"tutorialSidebar",previous:{title:"Jupyterlab Cells",permalink:"/interactive-presentation-template/slides/jupyterlab"}},d={},j=[];function p(e){const t={h1:"h1",...(0,a.useMDXComponents)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.h1,{id:"py4dstem-phase-contrast",children:"py4DSTEM phase contrast"}),"\n",(0,r.jsxs)(l.default,{lazy:!0,children:[(0,r.jsx)(o.default,{value:"data",label:"Load data",children:(0,r.jsx)(n.default,{source:"# import lines\n!pip install \"https://raw.githubusercontent.com/gvarnavi/py4DSTEM-lite/phase_contrast/dist/py4DSTEM-0.14.9-py3-none-any.whl\" > /dev/null 2>&1\nimport numpy as np\nimport py4DSTEM\n\n# download the 4DSTEM dataset\ngdrive_id =\"1C3tXV5BXz0JXbmyu3wTu3NutuIYYsN8A\"\nfile_data = 'ptycho_MoS2_bin2.h5'\n\npy4DSTEM.io.gdrive_download(\n    id_ = f\"https://drive.google.com/uc?id={gdrive_id}\",\n    filename = file_data,\n)\n\n# plot mean diffraction pattern\ndataset = py4DSTEM.read(file_data)\ndataset.get_dp_mean();\n\npy4DSTEM.show(\n    dataset.tree('dp_mean'),\n    ticks=False,\n    cmap='turbo',\n    power=0.125,\n)",serverHttpUrl:"https://oss.datalayer.tech/api/jupyter",serverWsUrl:"wss://oss.datalayer.tech/api/jupyter",token:"60c1661cc408f978c309d04157af55c9588ff9557c9380e4fb50785750703da6"})}),(0,r.jsx)(o.default,{value:"preprocess",label:"Preprocessing",children:(0,r.jsx)(n.default,{source:"# initialize and preprocess\nptycho = py4DSTEM.process.phase.SingleslicePtychographicReconstruction(\n    datacube=dataset,\n    verbose=False,\n    energy = 80e3,\n    semiangle_cutoff = 21.4,\n    object_type='potential',\n    object_padding_px = (0,0),\n).preprocess(\n    plot_center_of_mass = False,\n    force_com_rotation = 30,\n    force_com_transpose = False,\n    fit_function=\"constant\",\n)",serverHttpUrl:"https://oss.datalayer.tech/api/jupyter",serverWsUrl:"wss://oss.datalayer.tech/api/jupyter",token:"60c1661cc408f978c309d04157af55c9588ff9557c9380e4fb50785750703da6"})}),(0,r.jsx)(o.default,{value:"reconstruct",label:"Reconstruction",children:(0,r.jsx)(n.default,{source:"# reconstruct\nptycho = ptycho.reconstruct(\n    reset = True,\n    max_iter = 2,\n    max_batch_size = 510,\n    gaussian_filter_sigma = 0.3,\n).visualize(\n)",serverHttpUrl:"https://oss.datalayer.tech/api/jupyter",serverWsUrl:"wss://oss.datalayer.tech/api/jupyter",token:"60c1661cc408f978c309d04157af55c9588ff9557c9380e4fb50785750703da6"})})]})]})}function h(e={}){const{wrapper:t}={...(0,a.useMDXComponents)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(p,{...e})}):p(e)}},85162:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});s(67294);var r=s(90512);const a={tabItem:"tabItem_Ymn6"};var n=s(85893);function l(e){let{children:t,hidden:s,className:l}=e;return(0,n.jsx)("div",{role:"tabpanel",className:(0,r.default)(a.tabItem,l),hidden:s,children:t})}},74866:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>_});var r=s(67294),a=s(90512),n=s(12466),l=s(65262),o=s(20469),u=s(91980),i=s(67392),c=s(50012);function d(e){return r.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function j(e){const{values:t,children:s}=e;return(0,r.useMemo)((()=>{const e=t??function(e){return d(e).map((e=>{let{props:{value:t,label:s,attributes:r,default:a}}=e;return{value:t,label:s,attributes:r,default:a}}))}(s);return function(e){const t=(0,i.duplicates)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,s])}function p(e){let{value:t,tabValues:s}=e;return s.some((e=>e.value===t))}function h(e){let{queryString:t=!1,groupId:s}=e;const a=(0,l.useHistory)(),n=function(e){let{queryString:t=!1,groupId:s}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!s)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return s??null}({queryString:t,groupId:s});return[(0,u.useQueryStringValue)(n),(0,r.useCallback)((e=>{if(!n)return;const t=new URLSearchParams(a.location.search);t.set(n,e),a.replace({...a.location,search:t.toString()})}),[n,a])]}function f(e){const{defaultValue:t,queryString:s=!1,groupId:a}=e,n=j(e),[l,u]=(0,r.useState)((()=>function(e){let{defaultValue:t,tabValues:s}=e;if(0===s.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!p({value:t,tabValues:s}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${s.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const r=s.find((e=>e.default))??s[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:t,tabValues:n}))),[i,d]=h({queryString:s,groupId:a}),[f,m]=function(e){let{groupId:t}=e;const s=function(e){return e?`docusaurus.tab.${e}`:null}(t),[a,n]=(0,c.useStorageSlot)(s);return[a,(0,r.useCallback)((e=>{s&&n.set(e)}),[s,n])]}({groupId:a}),b=(()=>{const e=i??f;return p({value:e,tabValues:n})?e:null})();(0,o.default)((()=>{b&&u(b)}),[b]);return{selectedValue:l,selectValue:(0,r.useCallback)((e=>{if(!p({value:e,tabValues:n}))throw new Error(`Can't select invalid tab value=${e}`);u(e),d(e),m(e)}),[d,m,n]),tabValues:n}}var m=s(72389);const b={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var y=s(85893);function v(e){let{className:t,block:s,selectedValue:r,selectValue:l,tabValues:o}=e;const u=[],{blockElementScrollPositionUntilNextRender:i}=(0,n.useScrollPositionBlocker)(),c=e=>{const t=e.currentTarget,s=u.indexOf(t),a=o[s].value;a!==r&&(i(t),l(a))},d=e=>{let t=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const s=u.indexOf(e.currentTarget)+1;t=u[s]??u[0];break}case"ArrowLeft":{const s=u.indexOf(e.currentTarget)-1;t=u[s]??u[u.length-1];break}}t?.focus()};return(0,y.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,a.default)("tabs",{"tabs--block":s},t),children:o.map((e=>{let{value:t,label:s,attributes:n}=e;return(0,y.jsx)("li",{role:"tab",tabIndex:r===t?0:-1,"aria-selected":r===t,ref:e=>u.push(e),onKeyDown:d,onClick:c,...n,className:(0,a.default)("tabs__item",b.tabItem,n?.className,{"tabs__item--active":r===t}),children:s??t},t)}))})}function g(e){let{lazy:t,children:s,selectedValue:a}=e;const n=(Array.isArray(s)?s:[s]).filter(Boolean);if(t){const e=n.find((e=>e.props.value===a));return e?(0,r.cloneElement)(e,{className:"margin-top--md"}):null}return(0,y.jsx)("div",{className:"margin-top--md",children:n.map(((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==a})))})}function k(e){const t=f(e);return(0,y.jsxs)("div",{className:(0,a.default)("tabs-container",b.tabList),children:[(0,y.jsx)(v,{...e,...t}),(0,y.jsx)(g,{...e,...t})]})}function _(e){const t=(0,m.default)();return(0,y.jsx)(k,{...e,children:d(e.children)},String(t))}},57126:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});s(67294);var r=s(91262),a=s(85893);const n=e=>{const{token:t,serverHttpUrl:n,serverWsUrl:l,source:o}=e;return(0,a.jsx)(r.default,{fallback:(0,a.jsx)("div",{children:"Jupyter Cell fallback content for prerendering."}),children:()=>{const{Jupyter:e}=s(61094),{Cell:r}=s(21198);return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(e,{jupyterToken:t,jupyterServerHttpUrl:n,jupyterServerWsUrl:l,disableCssLoading:!0,useRunningKernelIndex:-1,startDefaultKernel:!0,terminals:!1,lite:!1,children:(0,a.jsx)(r,{source:o,autoStart:!1})})})}})}},46700:(e,t,s)=>{var r={"./af":42786,"./af.js":42786,"./ar":30867,"./ar-dz":14130,"./ar-dz.js":14130,"./ar-kw":96135,"./ar-kw.js":96135,"./ar-ly":56440,"./ar-ly.js":56440,"./ar-ma":47702,"./ar-ma.js":47702,"./ar-ps":20315,"./ar-ps.js":20315,"./ar-sa":16040,"./ar-sa.js":16040,"./ar-tn":37100,"./ar-tn.js":37100,"./ar.js":30867,"./az":31083,"./az.js":31083,"./be":9808,"./be.js":9808,"./bg":68338,"./bg.js":68338,"./bm":67438,"./bm.js":67438,"./bn":8905,"./bn-bd":76225,"./bn-bd.js":76225,"./bn.js":8905,"./bo":11560,"./bo.js":11560,"./br":1278,"./br.js":1278,"./bs":80622,"./bs.js":80622,"./ca":2468,"./ca.js":2468,"./cs":5822,"./cs.js":5822,"./cv":50877,"./cv.js":50877,"./cy":47373,"./cy.js":47373,"./da":24780,"./da.js":24780,"./de":59740,"./de-at":60217,"./de-at.js":60217,"./de-ch":60894,"./de-ch.js":60894,"./de.js":59740,"./dv":5300,"./dv.js":5300,"./el":50837,"./el.js":50837,"./en-au":78348,"./en-au.js":78348,"./en-ca":77925,"./en-ca.js":77925,"./en-gb":22243,"./en-gb.js":22243,"./en-ie":46436,"./en-ie.js":46436,"./en-il":47207,"./en-il.js":47207,"./en-in":44175,"./en-in.js":44175,"./en-nz":76319,"./en-nz.js":76319,"./en-sg":31662,"./en-sg.js":31662,"./eo":92915,"./eo.js":92915,"./es":55655,"./es-do":55251,"./es-do.js":55251,"./es-mx":96112,"./es-mx.js":96112,"./es-us":39901,"./es-us.js":39901,"./es.js":55655,"./et":5603,"./et.js":5603,"./eu":77763,"./eu.js":77763,"./fa":76959,"./fa.js":76959,"./fi":11897,"./fi.js":11897,"./fil":42549,"./fil.js":42549,"./fo":94694,"./fo.js":94694,"./fr":94470,"./fr-ca":63049,"./fr-ca.js":63049,"./fr-ch":52330,"./fr-ch.js":52330,"./fr.js":94470,"./fy":5044,"./fy.js":5044,"./ga":29295,"./ga.js":29295,"./gd":2101,"./gd.js":2101,"./gl":38794,"./gl.js":38794,"./gom-deva":27884,"./gom-deva.js":27884,"./gom-latn":23168,"./gom-latn.js":23168,"./gu":95349,"./gu.js":95349,"./he":24206,"./he.js":24206,"./hi":30094,"./hi.js":30094,"./hr":30316,"./hr.js":30316,"./hu":22138,"./hu.js":22138,"./hy-am":11423,"./hy-am.js":11423,"./id":29218,"./id.js":29218,"./is":90135,"./is.js":90135,"./it":90626,"./it-ch":10150,"./it-ch.js":10150,"./it.js":90626,"./ja":39183,"./ja.js":39183,"./jv":24286,"./jv.js":24286,"./ka":12105,"./ka.js":12105,"./kk":47772,"./kk.js":47772,"./km":18758,"./km.js":18758,"./kn":79282,"./kn.js":79282,"./ko":33730,"./ko.js":33730,"./ku":1408,"./ku-kmr":90563,"./ku-kmr.js":90563,"./ku.js":1408,"./ky":33291,"./ky.js":33291,"./lb":36841,"./lb.js":36841,"./lo":55466,"./lo.js":55466,"./lt":57010,"./lt.js":57010,"./lv":37595,"./lv.js":37595,"./me":39861,"./me.js":39861,"./mi":35493,"./mi.js":35493,"./mk":95966,"./mk.js":95966,"./ml":87341,"./ml.js":87341,"./mn":5115,"./mn.js":5115,"./mr":10370,"./mr.js":10370,"./ms":9847,"./ms-my":41237,"./ms-my.js":41237,"./ms.js":9847,"./mt":72126,"./mt.js":72126,"./my":56165,"./my.js":56165,"./nb":64924,"./nb.js":64924,"./ne":16744,"./ne.js":16744,"./nl":93901,"./nl-be":59814,"./nl-be.js":59814,"./nl.js":93901,"./nn":83877,"./nn.js":83877,"./oc-lnc":92135,"./oc-lnc.js":92135,"./pa-in":15858,"./pa-in.js":15858,"./pl":64495,"./pl.js":64495,"./pt":89520,"./pt-br":57971,"./pt-br.js":57971,"./pt.js":89520,"./ro":96459,"./ro.js":96459,"./ru":21793,"./ru.js":21793,"./sd":40950,"./sd.js":40950,"./se":10490,"./se.js":10490,"./si":90124,"./si.js":90124,"./sk":64249,"./sk.js":64249,"./sl":14985,"./sl.js":14985,"./sq":51104,"./sq.js":51104,"./sr":49131,"./sr-cyrl":79915,"./sr-cyrl.js":79915,"./sr.js":49131,"./ss":95606,"./ss.js":95606,"./sv":98760,"./sv.js":98760,"./sw":91172,"./sw.js":91172,"./ta":27333,"./ta.js":27333,"./te":23110,"./te.js":23110,"./tet":52095,"./tet.js":52095,"./tg":27321,"./tg.js":27321,"./th":9041,"./th.js":9041,"./tk":19005,"./tk.js":19005,"./tl-ph":75768,"./tl-ph.js":75768,"./tlh":89444,"./tlh.js":89444,"./tr":72397,"./tr.js":72397,"./tzl":28254,"./tzl.js":28254,"./tzm":51106,"./tzm-latn":30699,"./tzm-latn.js":30699,"./tzm.js":51106,"./ug-cn":9288,"./ug-cn.js":9288,"./uk":67691,"./uk.js":67691,"./ur":13795,"./ur.js":13795,"./uz":6791,"./uz-latn":60588,"./uz-latn.js":60588,"./uz.js":6791,"./vi":65666,"./vi.js":65666,"./x-pseudo":14378,"./x-pseudo.js":14378,"./yo":75805,"./yo.js":75805,"./zh-cn":83839,"./zh-cn.js":83839,"./zh-hk":55726,"./zh-hk.js":55726,"./zh-mo":99807,"./zh-mo.js":99807,"./zh-tw":74152,"./zh-tw.js":74152};function a(e){var t=n(e);return s(t)}function n(e){if(!s.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=n,e.exports=a,a.id=46700},21549:()=>{},22868:()=>{},14777:()=>{},99830:()=>{},70209:()=>{},87414:()=>{}}]);