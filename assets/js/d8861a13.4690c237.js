"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[59],{5386:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>x,code:()=>v,contentTitle:()=>f,default:()=>C,frontMatter:()=>h,metadata:()=>g,toc:()=>j});var i=n(5893),o=n(1151),s=n(7294),l=n(1262),a=n(2389),r=n(2949),d=n(7562);const c={enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,highlightActiveLine:!1,showPrintMargin:!1,showGutter:!1};function p(t,e,n){let i=t.commands.byName[e];i.bindKeyOriginal||(i.bindKeyOriginal=i.bindKey),i.bindKey=n?i.bindKeyOriginal:null,t.commands.addCommand(i)}const u=t=>{t.renderer.setScrollMargin(10,10,0,0),t.renderer.setPadding(16),t.moveCursorTo(0,0),p(t,"indent",!1),p(t,"outdent",!1),t.commands.on("afterExec",(e=>{"disable-indent"!==e.command.name&&(p(t,"indent",!0),p(t,"outdent",!0))})),t.on("click",(e=>{p(t,"indent",!0),p(t,"outdent",!0)})),t.on("blur",(e=>{p(t,"indent",!1),p(t,"outdent",!1)})),t.commands.addCommand({name:"disable-indent",bindKey:{win:"esc",mac:"esc"},exec:t=>{p(t,"indent",!1),p(t,"outdent",!1)}})},m=()=>!!navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(android)/i)||navigator.userAgent.includes("Mac")&&"ontouchend"in document;function b(t){let e;if("metastring"in t){e={official:[],micropip:t.metastring.match(/(?:"[^"]*"|^[^"]*$)/)[0].replace(/"/g,"").split(" ")}}const[o,p]=(0,s.useState)(t.code.trimEnd()),[b,h]=(0,s.useState)(!1),[f,g]=(0,s.useState)(!1),[x,j]=(0,s.useState)(!1);(0,s.useEffect)((()=>{p(t.code.trimEnd()),h(!1)}),[t.code]);const{runPython:v,stdout:y,stderr:C,isLoading:M,isRunning:_,interruptExecution:w}=(0,d.usePython)({packages:e}),{colorMode:k}=(0,r.useColorMode)(),N=(0,a.default)();let P=null;function S(){h(!1),p(t.code.trimEnd())}function B(){return h(!0),v(o)}function O(){h(!1),w()}function A(){const t=[];if(y){const e=y.split(/<MatplotlibOutput>(.*?)<\/MatplotlibOutput>/g).map((t=>t.trim()));for(let n=0;n<e.length;n++)e[n].startsWith("data:image/png;base64,")?t.push((0,i.jsxs)("div",{children:[" ",(0,i.jsx)("img",{src:e[n]})," "]})):t.push((0,i.jsxs)("div",{children:[" ",(0,i.jsxs)("pre",{children:[" ",e[n]," "]})," "]}))}return(0,i.jsxs)("div",{className:"relative mb-10 flex flex-col",children:[t,(0,i.jsx)("pre",{style:{color:"var(--text-code-error)"},children:C})]})}N&&(P=n(4981).default,n(4007),n(2777),n(3783),n(2679));const E=(0,i.jsx)("pre",{style:{margin:0,padding:"0.55rem"},children:o});return(0,i.jsx)(l.default,{fallback:E,children:()=>(0,i.jsxs)("div",{className:"code-editor",onMouseLeave:()=>{g(!1),j(!1)},children:[(0,i.jsxs)("div",{className:"code-editor-window",style:b?{borderRadius:".25em .25em 0 0"}:{},children:[(0,i.jsx)(P,{value:o,mode:"python",name:"CodeBlock",fontSize:"var(--ifm-code-font-size)",theme:"dark"===k?"idle_fingers":"textmate",onChange:(t,e)=>p(t),width:"100%",maxLines:1/0,style:{backgroundColor:"rgba(0, 0, 0, 0)"},onLoad:u,editorProps:{$blockScrolling:!0},setOptions:c}),(0,i.jsx)("div",{className:"button-container",style:t.showButtons||m()||f||x?{opacity:100}:{},children:M?(0,i.jsx)("span",{children:"Loading..."}):(0,i.jsxs)(i.Fragment,{children:[_?(0,i.jsx)("button",{className:"icon-button",disabled:M||!_,onClick:O,onFocus:()=>g(!0),onBlur:()=>g(!1),"aria-label":"Stop Code",title:"Stop Code",children:(0,i.jsx)("span",{className:"icon lsf-icon",title:"stop"})}):(0,i.jsx)("button",{className:"icon-button",disabled:M||_,onClick:B,onFocus:()=>g(!0),onBlur:()=>g(!1),"aria-label":"Run Code",title:"Run Code",children:(0,i.jsx)("span",{className:"icon lsf-icon",title:"play"})}),(0,i.jsx)("button",{className:"icon-button",onClick:S,onFocus:()=>j(!0),onBlur:()=>j(!1),"aria-label":"Reset Code Window",title:"Reset Code Window",children:(0,i.jsx)("span",{className:"icon lsf-icon",title:"refresh"})})]})})]}),b&&A()]})})}const h={id:"matplotlib",sidebar_position:2,title:"Matplotlib",hide_table_of_contents:!0,hide_title:!0},f="Matplotlib plotting example",g={id:"matplotlib",title:"Matplotlib",description:"os.environ['MPLBACKEND'] = 'AGG'",source:"@site/slides/matplotlib.mdx",sourceDirName:".",slug:"/matplotlib",permalink:"/interactive-presentation-template/slides/matplotlib",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{id:"matplotlib",sidebar_position:2,title:"Matplotlib",hide_table_of_contents:!0,hide_title:!0},sidebar:"tutorialSidebar",previous:{title:"Introduction",permalink:"/interactive-presentation-template/slides/outline"}},x={},j=[],v="import os\nimport base64\nfrom io import BytesIO\n\n# Set this _before_ importing matplotlib\nos.environ['MPLBACKEND'] = 'AGG'\n\nimport matplotlib.pyplot as plt\n\n# Patch\ndef ensure_matplotlib_patch():\n  _old_show = plt.show\n\n  def show():\n    buf = BytesIO()\n    plt.savefig(buf, format='png')\n    buf.seek(0)\n      \n    # Encode to a base64 str\n    img = \"<MatplotlibOutput>\"\n    img += 'data:image/png;base64,'\n    img += base64.b64encode(buf.read()).decode('utf-8')\n    img += \"</MatplotlibOutput>\"\n    # Write to stdout\n    print(img)\n    plt.clf()\n\n  plt.show = show\n\nensure_matplotlib_patch()\n\n# Plot\nfig, ax = plt.subplots()\nax.plot([1,3,2])\nplt.show()\n";function y(t){const e={h1:"h1",...(0,o.useMDXComponents)(),...t.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.h1,{id:"matplotlib-plotting-example",children:"Matplotlib plotting example"}),"\n",(0,i.jsx)(b,{code:v,metastring:'packages="matplotlib"'})]})}function C(t={}){const{wrapper:e}={...(0,o.useMDXComponents)(),...t.components};return e?(0,i.jsx)(e,{...t,children:(0,i.jsx)(y,{...t})}):y(t)}}}]);